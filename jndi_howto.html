<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/apt/jndi_howto.apt at 2023-02-02
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <meta name="author" content="Christian KÃ¶berl" />
    <meta name="date" content="December 2013" />
    <title>Eclipse Jetty Integration &#x2013; Eclipse Jetty Integration - JNDI Howto</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.1.min.js"></script>
<meta name="og:title" content="Eclipse Jetty Plugin" />
			<meta itemprop="name" content="Eclipse Jetty Plugin" />
			<meta name="description" content="The Eclipse Jetty Plugin enables running/debugging of Java web applications with Jetty in the Eclipse IDE. It supports Jetty 6-9 (has an own Jetty 8 included) and works well in conjunction with the m2e Maven integration." />
			<meta itemprop="description" content="The Eclipse Jetty Plugin enables running/debugging of Java web applications with Jetty in the Eclipse IDE. It supports Jetty 6-9 (has an own Jetty 8 included) and works well in conjunction with the m2e Maven integration." />
			<meta name="og:image" content="http://eclipse-jetty.github.io/images/logo.png" />
			<meta itemprop="image" content="http://eclipse-jetty.github.io/images/logo.png" />
			<meta name="og:type" content="website" />
			<meta name="og:url" content="http://eclipse-jetty.github.io/" />
			<meta name="og:site_name" content="Eclipse Jetty Plugin" />
			<link href="http://eclipse-jetty.github.io/" rel="canonical" />
			<link rel="shortcut icon" type="image/x-icon" href="http://eclipse-jetty.github.io/favicon.ico" />
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="./" id="bannerLeft"><img src="images/title.png"  alt="Eclipse Jetty Integration" style="" /></a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-02-02<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 7.1.0</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="http://marketplace.eclipse.org/node/581283" class="externalLink" title="Marketplace">Marketplace</a></li>
        <li class="pull-right"><span class="divider">|</span>
<a href="http://www.eclipse.org/jetty/" class="externalLink" title="Jetty">Jetty</a></li>
        <li class="pull-right"><a href="http://www.eclipse.org/" class="externalLink" title="Eclipse">Eclipse</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Documentation</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li><a href="getting_started.html" title="Getting started"><span class="none"></span>Getting started</a></li>
    <li class="active"><a><span class="none"></span>JNDI Howto</a></li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
   <li class="nav-header">Additional Infos</li>
    <li><a href="changes-report.html" title="Version History"><span class="none"></span>Version History</a></li>
    <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
    <li><a href="licenses.html" title="License"><span class="none"></span>License</a></li>
    <li><a href="scm.html" title="Sources"><span class="none"></span>Sources</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="JNDI_Howto"></a>JNDI Howto</h2><section>
<h3><a name="Activating_JNDI"></a>Activating JNDI</h3>
<p>For publishing resources via JNDI you'll have to enable JNDI on the Options tab:</p><figure><img src="images/OptionsFeatures.jpg" alt="" /><figcaption>Options for Eclipse Jetty</figcaption></figure>
<p>This enables JNDI generally but does not publish any resources. </p></section><section>
<h3><a name="Configuring_JNDI_Resources"></a>Configuring JNDI Resources</h3>
<p>For configuring JNDI resources in Jetty you have to create a Jetty XML configuration file and add it on the WebApp tab in the section Jetty Conext Configuration. The file can either be in the Eclipse workspace (Add...) or somewhere else in the file system (Add External...).</p><figure><img src="images/OptionsContext.jpg" alt="" /><figcaption>Use Context Configuration to add JNDI configuration</figcaption></figure>
<p>For more information on Jetty JNDI config see <a class="externalLink" href="http://wiki.eclipse.org/Jetty/Feature/JNDI">http://wiki.eclipse.org/Jetty/Feature/JNDI</a> on the Eclipse site.</p></section><section>
<h3><a name="Example_JNDI_Data_Source"></a>Example JNDI Data Source</h3>
<p>The most common case for using JNDI ist configure a data source with connection pool. To accomplish that with Eclipse Jetty you have to follow this steps:</p>
<ol style="list-style-type: decimal">
<li>Activate JNDI on the Options tab</li>
<li>Make sure the JARs for the connection pool and database driver are in the classpath. On the Options tab in the list of all the libraries make sure the JARs are in the selected scopes or manually add them by checking &quot;Include&quot;. Also make sure all JARs are marked as &quot;Global&quot; - this will add them to the Jetty classpath and not only to the application's classpath.</li>
<li>Create a Jetty configuration and add it to the Jetty Context Configuration. See <a class="externalLink" href="http://wiki.eclipse.org/Jetty/Howto/Configure_JNDI_Datasource">http://wiki.eclipse.org/Jetty/Howto/Configure_JNDI_Datasource</a> for a complete reference. Here is an example for c3p0 connection pool with Oracle database:
<div>
<pre>&lt;Configure id=&quot;wac&quot; class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;
  &lt;New id=&quot;myds&quot; class=&quot;org.eclipse.jetty.plus.jndi.Resource&quot;&gt;
    &lt;Arg&gt;&lt;/Arg&gt;
    &lt;Arg&gt;jdbc/myds&lt;/Arg&gt;
    &lt;Arg&gt;
      &lt;New class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;Set name=&quot;driverClass&quot;&gt;oracle.jdbc.OracleDriver&lt;/Set&gt;
        &lt;Set name=&quot;jdbcUrl&quot;&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/Set&gt;
        &lt;Set name=&quot;user&quot;&gt;MYUSER&lt;/Set&gt;
        &lt;Set name=&quot;password&quot;&gt;MYPASS&lt;/Set&gt;
      &lt;/New&gt;
    &lt;/Arg&gt;
  &lt;/New&gt;
&lt;/Configure&gt;</pre></div></li>
<li>Voil&#xfffd;. You're done. You can now lookup the data source in your application via &quot;java:comp/env/jdbc/myds&quot;.</li></ol></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2009&#x2013;2023
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
